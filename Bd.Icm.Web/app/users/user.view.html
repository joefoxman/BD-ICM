<div class="row">
    <div class="col-sm-12">
        <h3>{{ uvm.user.name }}</h3>
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        <div class="ibox-title">
            <h5>User Properties</h5>
        </div>
        <div class="well">
            <form role="form" name="userForm" novalidate class="form-horizontal">
                <div class="form-group" ng-class="{ 'has-error' : userForm.userName.$invalid }">
                    <label for="userName" class="col-sm-2 control-label">Username:</label>
                    <div class="col-sm-6">
                        <input ng-model="uvm.user.userName" required type="text" maxlength="50"
                               class="form-control" id="userName" name="userName" />
                        <span class="help-block" ng-show="userForm.userName.$error.required">Username is required.</span>
                        <span class="help-block" ng-show="userForm.userName.$error.maxlength">Username cannot be more than 50 characters.</span>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error' : userForm.password.$invalid }">
                    <label ng-if="uvm.user.isNew" for="password" class="col-sm-2 control-label">Password:</label>
                    <label ng-if="!uvm.user.isNew" for="password" class="col-sm-2 control-label">New Password: (optional)</label>
                    <div class="col-sm-6">
                        <input ng-model="uvm.user.newPassword" type="password" maxlength="50"
                               class="form-control" id="password" name="password"/>
                        <label ng-if="!uvm.user.isNew"><input type="checkbox" ng-model="uvm.user.removePassword"/>Remove password</label>
                        <span class="help-block" ng-show="userForm.password.$error.maxlength">Password cannot be more than 50 characters.</span>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error' : userForm.firstName.$invalid }">
                    <label for="firstName" class="col-sm-2 control-label">First name:</label>
                    <div class="col-sm-6">
                        <input ng-model="uvm.user.firstName" required type="text" maxlength="50"
                               class="form-control" id="firstName" name="firstName" />
                        <span class="help-block" ng-show="userForm.firstName.$error.required">First name is required.</span>
                        <span class="help-block" ng-show="userForm.firstName.$error.maxlength">First name cannot be more than 50 characters.</span>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error' : userForm.lastName.$invalid }">
                    <label for="lastName" class="col-sm-2 control-label">Last name:</label>
                    <div class="col-sm-6">
                        <input ng-model="uvm.user.lastName" required type="text" maxlength="50"
                               class="form-control" id="lastName" name="lastName" />
                        <span class="help-block" ng-show="userForm.lastName.$error.required">Last name is required.</span>
                        <span class="help-block" ng-show="userForm.lastName.$error.maxlength">Last name cannot be more than 50 characters.</span>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error' : userForm.email.$invalid }">
                    <label for="email" class="col-sm-2 control-label">Email address:</label>
                    <div class="col-sm-6">
                        <input ng-model="uvm.user.email" required type="email" maxlength="50"
                               class="form-control" id="email" name="email" />
                        <span class="help-block" ng-show="userForm.email.$error.required">Email address is required.</span>
                        <span class="help-block" ng-show="userForm.email.$error.maxlength">Email address cannot be more than 50 characters.</span>
                    </div>
                </div>
                <div class="form-group" ng-class="{ 'has-error' : userForm.role.$invalid }">
                    <label for="role" class="control-label col-sm-2">Roles:</label>
                    <div class="col-sm-6">
                        <ul class="list-unstyled">
                            <li ng-repeat="role in uvm.roles">
                                <label><input type="checkbox" ng-model="role.isSelected" />&nbsp;{{ role.text }}</label>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="form-group">
                    <label for="isDisabled" class="col-sm-2 control-label">Disabled:</label>
                    <div class="col-sm-6">
                        <label>
                            <input icheck type="checkbox" name="isDisabled" id="isDisabled" ng-model="uvm.user.isDisabled">
                        </label>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-sm-8">
        <button class="btn btn-success" ng-click="uvm.save()" ng-disabled="!userForm.$valid">
            <i class="fa fa-save"></i>&nbsp;
            <span ng-if ="!uvm.user.isNew">Save</span>
            <span ng-if="uvm.user.isNew">Create</span>
        </button>
        <button class="btn btn-danger" ng-click="uvm.delete()" ng-disabled="uvm.user.isNew" ng-show="!uvm.user.isNew">
            <i class="fa fa-trash"></i>&nbsp;Delete
        </button>
        <button class="btn btn-default" ui-sref="root.security.users">Cancel</button>
    </div>
</div>
